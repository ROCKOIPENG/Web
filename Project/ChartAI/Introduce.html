<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>AI聊天</title>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
				font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
			}

			body {
				background: #1F73B8;
				color: #fff;
				line-height: 1.6;
				min-height: 100vh;
				padding: 20px;
				position: relative;
				overflow-x: hidden;
			}

			/* 隐藏滚动条但保持滚动功能 */
			*::-webkit-scrollbar {
				display: none;
			}

			body {
				-ms-overflow-style: none;
				scrollbar-width: none;
			}

			.container {
				max-width: 1200px;
				margin: 0 auto;
			}

			/* 透明毛玻璃效果 */
			.glass-effect {
				background: rgba(255, 255, 255, 0.15);
				backdrop-filter: blur(12px);
				-webkit-backdrop-filter: blur(12px);
				border-radius: 20px;
				box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
				border: 1px solid rgba(255, 255, 255, 0.18);
			}

			header {
				text-align: center;
				padding: 40px 20px 60px;
				margin-bottom: 40px;
				position: relative;
			}

			.browser-notice {
				position: absolute;
				top: 20px;
				right: 20px;
				background: rgba(255, 245, 0, 0.2);
				backdrop-filter: blur(5px);
				-webkit-backdrop-filter: blur(5px);
				border: 1px solid rgba(255, 215, 0, 0.3);
				border-radius: 10px;
				padding: 10px 15px;
				font-size: 0.9rem;
				color: #fff;
				max-width: 250px;
			}

			.browser-notice i {
				color: #ffed4e;
				margin-right: 5px;
			}

			.cta-button {
				display: inline-block;
				background: linear-gradient(90deg, #00aaff, #0077b3);
				color: white;
				padding: 15px 40px;
				font-size: 1.2rem;
				font-weight: 600;
				border-radius: 50px;
				text-decoration: none;
				width: 40%;
				margin: 20px 0 30px;
				transition: transform 0.3s, box-shadow 0.3s;
				box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
			}

			.cta-button:hover {
				transform: translateY(-3px);
				box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
			}

			header h1 {
				font-size: 7rem;
				margin-bottom: 20px;
				color: #fff;
				text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
			}

			header p {
				font-size: 2rem;
				color: #fff;
				max-width: 800px;
				margin: 0 auto;
				text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
			}

			.highlight {
				color: #fff;
				font-weight: 600;
			}

			.features {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
				gap: 30px;
				margin-bottom: 50px;
			}

			.feature-card {
				padding: 30px;
				transition: transform 0.3s, box-shadow 0.3s;
				text-align: center;
				position: relative;
				overflow: hidden;
			}

			.feature-card::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background: rgba(255, 255, 255, 0.1);
				backdrop-filter: blur(10px);
				-webkit-backdrop-filter: blur(10px);
				border-radius: 15px;
				z-index: -1;
			}

			.feature-card:hover {
				transform: translateY(-10px);
				box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
			}

			.feature-card i {
				font-size: 3rem;
				color: #fff;
				margin-bottom: 20px;
			}

			.feature-card h3 {
				font-size: 1.5rem;
				margin-bottom: 15px;
				color: #fff;
			}

			.feature-card p {
				color: rgba(255, 255, 255, 0.9);
			}

			.demo-section {
				padding: 40px;
				margin-bottom: 50px;
			}

			.demo-section h2 {
				text-align: center;
				margin-bottom: 30px;
				color: #fff;
				font-size: 2.2rem;
				text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
			}

			.interaction-demo {
				display: flex;
				flex-wrap: wrap;
				gap: 30px;
				justify-content: center;
			}

			.demo-item {
				flex: 1;
				min-width: 300px;
				background: rgba(255, 255, 255, 0.1);
				backdrop-filter: blur(8px);
				-webkit-backdrop-filter: blur(8px);
				border-radius: 15px;
				padding: 25px;
				box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
				border: 1px solid rgba(255, 255, 255, 0.2);
			}

			.demo-item h3 {
				color: #fff;
				margin-bottom: 15px;
				display: flex;
				align-items: center;
				gap: 10px;
			}

			.demo-item p {
				color: rgba(255, 255, 255, 0.9);
				margin-bottom: 20px;
			}

			.ui-preview {
				background: rgba(255, 255, 255, 0.1);
				backdrop-filter: blur(8px);
				-webkit-backdrop-filter: blur(8px);
				border-radius: 10px;
				padding: 20px;
				box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.05);
				min-height: 200px;
				border: 1px solid rgba(255, 255, 255, 0.2);
			}

			.message {
				max-width: 80%;
				padding: 12px 16px;
				margin-bottom: 15px;
				border-radius: 8px;
				animation: fadeIn 0.5s;
			}

			.message.user {
				background: rgba(149, 236, 105, 0.3);
				margin-left: auto;
				border-top-right-radius: 0;
			}

			.message.assistant {
				background: rgba(255, 255, 255, 0.2);
				border-top-left-radius: 0;
				box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
			}

			@keyframes fadeIn {
				from {
					opacity: 0;
					transform: translateY(10px);
				}

				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			.message-input {
				display: flex;
				gap: 10px;
				margin-top: 20px;
			}

			.message-input input {
				flex: 1;
				padding: 12px 15px;
				border: 1px solid rgba(221, 221, 221, 0.3);
				border-radius: 20px;
				outline: none;
				font-size: 1rem;
				background: rgba(255, 255, 255, 0.2);
				color: #fff;
				width: 100%;
			}

			.message-input input::placeholder {
				color: rgba(255, 255, 255, 0.7);
			}

			.message-input button {
				background: #4b6cb7;
				color: white;
				border: none;
				border-radius: 50%;
				width: 45px;
				height: 45px;
				display: flex;
				justify-content: center;
				align-items: center;
				cursor: pointer;
				transition: background 0.3s;
			}

			.message-input button:hover {
				background: #3a5999;
			}

			.parameters {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
				gap: 20px;
				margin-top: 30px;
			}

			.param-item {
				background: rgba(255, 255, 255, 0.1);
				backdrop-filter: blur(8px);
				-webkit-backdrop-filter: blur(8px);
				padding: 15px;
				margin: 15px;
				border-radius: 10px;
				box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
				border: 1px solid rgba(255, 255, 255, 0.2);
			}

			.param-item label {
				display: block;
				margin-bottom: 8px;
				font-weight: 500;
				color: #fff;
			}

			.param-item input {
				width: 100%;
			}

			footer {
				text-align: center;
				padding: 30px;
				color: white;
				background: rgba(0, 0, 0, 0.2);
				backdrop-filter: blur(10px);
				-webkit-backdrop-filter: blur(10px);
				border-radius: 15px;
				margin-top: 50px;
				border: 1px solid rgba(255, 255, 255, 0.1);
			}

			@media (max-width: 768px) {
				header h1 {
					font-size: 2.2rem;
				}

				header p {
					font-size: 1.1rem;
				}

				.features {
					grid-template-columns: 1fr;
				}

				.interaction-demo {
					flex-direction: column;
				}

				.browser-notice {
					position: relative;
					top: 0;
					right: 0;
					max-width: 100%;
					margin-bottom: 20px;
				}
			}

			.typing-indicator {
				display: flex;
				align-items: center;
				padding: 10px 15px;
				background: rgba(255, 255, 255, 0.2);
				border-radius: 18px;
				box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
				width: fit-content;
				margin-bottom: 15px;
			}

			.typing-dots {
				display: flex;
				align-items: center;
				height: 17px;
			}

			.typing-dots span {
				width: 8px;
				height: 8px;
				background: #fff;
				border-radius: 50%;
				display: inline-block;
				margin: 0 2px;
				animation: typing 1.4s infinite;
			}

			.typing-dots span:nth-child(2) {
				animation-delay: 0.2s;
			}

			.typing-dots span:nth-child(3) {
				animation-delay: 0.4s;
			}

			@keyframes typing {

				0%,
				100% {
					transform: translateY(0);
				}

				50% {
					transform: translateY(-5px);
				}
			}

			.voice-wave {
				display: flex;
				align-items: flex-end;
				height: 20px;
				gap: 2px;
				margin: 10px 0;
			}

			.wave-bar {
				width: 3px;
				background: #fff;
				border-radius: 2px;
				animation: wave 1.2s infinite ease-in-out;
			}

			.wave-bar:nth-child(2) {
				animation-delay: 0.2s;
				height: 60%;
			}

			.wave-bar:nth-child(3) {
				animation-delay: 0.4s;
				height: 80%;
			}

			.wave-bar:nth-child(4) {
				animation-delay: 0.6s;
				height: 100%;
			}

			.wave-bar:nth-child(5) {
				animation-delay: 0.8s;
				height: 80%;
			}

			.wave-bar:nth-child(6) {
				animation-delay: 1.0s;
				height: 60%;
			}

			@keyframes wave {

				0%,
				100% {
					transform: scaleY(0.5);
				}

				50% {
					transform: scaleY(1);
				}
			}

			.tts-languages {
				display: flex;
				flex-wrap: wrap;
				gap: 10px;
				justify-content: center;
				margin-top: 20px;
			}

			.language-tag {
				background: rgba(75, 108, 183, 0.5);
				color: white;
				padding: 8px 15px;
				border-radius: 20px;
				font-size: 0.9rem;
				backdrop-filter: blur(5px);
				-webkit-backdrop-filter: blur(5px);
				cursor: pointer;
				transition: background 0.3s;
			}

			.language-tag:hover {
				background: rgba(75, 108, 183, 0.8);
			}

			.language-tag.playing {
				background: rgba(75, 108, 183, 1);
				animation: pulse 1s infinite;
			}

			.key-visual {
				display: flex;
				justify-content: center;
				align-items: center;
				gap: 20px;
				margin: 20px 0;
			}

			.volume-key {
				width: 90px;
				height: 90px;
				background: linear-gradient(135deg, rgba(108, 117, 125, 0.7), rgba(73, 80, 87, 0.7));
				border-radius: 10px;
				display: flex;
				flex-direction: column;
				justify-content: space-between;
				align-items: center;
				padding: 25px 0;
				color: white;
				box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
				position: relative;
				backdrop-filter: blur(5px);
				-webkit-backdrop-filter: blur(5px);
			}

			.volume-key.up::before {
				content: "+";
				font-size: 1.5rem;
				font-weight: bold;
			}

			.volume-key.down::before {
				content: "-";
				font-size: 1.5rem;
				font-weight: bold;
			}

			.key-label {
				position: absolute;
				bottom: -30px;
				text-align: center;
				color: white;
				font-weight: 500;
				width: 100%;
			}

			.interaction-flow {
				display: flex;
				flex-wrap: wrap;
				justify-content: center;
				gap: 30px;
				margin: 30px 0;
			}

			.flow-step {
				display: flex;
				flex-direction: column;
				align-items: center;
				text-align: center;
				max-width: 200px;
			}

			.flow-step i {
				font-size: 2.5rem;
				color: #fff;
				margin-bottom: 15px;
			}

			.flow-step p {
				color: rgba(255, 255, 255, 0.9);
			}

			.arrow {
				font-size: 2rem;
				color: #fff;
				align-self: center;
			}

			.voice-demo {
				text-align: center;
				padding: 20px;
				background: rgba(238, 242, 247, 0.1);
				backdrop-filter: blur(8px);
				-webkit-backdrop-filter: blur(8px);
				border-radius: 15px;
				margin-top: 20px;
				border: 1px solid rgba(255, 255, 255, 0.2);
			}

			.voice-btn {
				background: #ff6b6b;
				border: none;
				border-radius: 50%;
				width: 60px;
				height: 60px;
				display: inline-flex;
				justify-content: center;
				align-items: center;
				cursor: pointer;
				color: white;
				font-size: 1.5rem;
				margin: 15px 0;
				box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
				transition: transform 0.3s;
			}

			.voice-btn:hover {
				transform: scale(1.1);
			}

			.voice-btn.listening {
				animation: pulse 1.5s infinite;
			}

			@keyframes pulse {
				0% {
					box-shadow: 0 0 0 0 rgba(255, 107, 107, 0.7);
				}

				70% {
					box-shadow: 0 0 0 15px rgba(255, 107, 107, 0);
				}

				100% {
					box-shadow: 0 0 0 0 rgba(255, 107, 107, 0);
				}
			}

			.compatibility-note {
				background: rgba(255, 0, 0, 0.5);
				backdrop-filter: blur(5px);
				-webkit-backdrop-filter: blur(5px);
				border-radius: 10px;
				padding: 15px;
				margin: 20px 0;
				border: 1px solid rgba(0, 123, 255, 0.3);
				text-align: center;
			}

			.compatibility-note i {
				color: #ff0000;
				margin-right: 8px;
			}

			.edge-logo {
				display: inline-flex;
				align-items: center;
				justify-content: center;
				background: #20c4ff;
				color: white;
				width: 60px;
				height: 30px;
				border-radius: 45%;
				margin: 0 5px;
				font-weight: bold;
			}

			/* 图片展示区域优化 */
			.image-gallery {
				display: grid;
				grid-template-columns: repeat(2, 2fr);
				gap: 20px;
				margin: 40px 0;
			}

			.image-placeholder {
				background: rgba(255, 255, 255, 0.1);
				backdrop-filter: blur(8px);
				-webkit-backdrop-filter: blur(8px);
				border-radius: 15px;
				display: flex;
				align-items: center;
				justify-content: center;
				border: 2px dashed rgba(255, 255, 255, 0.3);
				transition: all 0.3s;
				cursor: pointer;
				overflow: hidden;
				aspect-ratio: 4/3;
			}

			.image-placeholder:hover {
				background: rgba(255, 255, 255, 0.15);
				border-color: rgba(255, 255, 255, 0.5);
				transform: translateY(-5px);
				box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
			}

			.image-placeholder img {
				width: 100%;
				height: 100%;
				object-fit: cover;
				transition: transform 0.3s;
			}

			.image-placeholder:hover img {
				transform: scale(1.05);
			}

			.image-caption {
				position: absolute;
				bottom: 0;
				left: 0;
				right: 0;
				background: rgba(0, 0, 0, 0.7);
				padding: 10px;
				text-align: center;
				transform: translateY(100%);
				transition: transform 0.3s;
			}

			.image-placeholder:hover .image-caption {
				transform: translateY(0);
			}

			/* 响应式设计 */
			@media (max-width: 1024px) {
				.image-gallery {
					grid-template-columns: repeat(2, 1fr);
				}
			}

			@media (max-width: 600px) {
				.image-gallery {
					grid-template-columns: 1fr;
				}

				header h1 {
					font-size: 2rem;
				}

				header p {
					font-size: 1rem;
				}
			}

			/* 图片模态框 */
			.modal {
				display: none;
				position: fixed;
				z-index: 1000;
				left: 0;
				top: 0;
				width: 100%;
				height: 100%;
				background-color: rgba(0, 0, 0, 0.9);
				overflow: auto;
			}

			.modal-content {
				display: block;
				margin: auto;
				max-width: 90%;
				max-height: 80%;
				margin-top: 5%;
				border-radius: 10px;
			}

			.close {
				position: absolute;
				top: 15px;
				right: 35px;
				color: #f1f1f1;
				font-size: 40px;
				font-weight: bold;
				cursor: pointer;
			}

			.close:hover {
				color: #bbb;
			}

			.caption-text {
				margin: auto;
				display: block;
				width: 80%;
				max-width: 700px;
				text-align: center;
				color: #ccc;
				padding: 10px 0;
				font-size: 1.2rem;
			}

			/* 语音播放按钮样式 */
			.play-btn {
				background: #00aaff;
				border: none;
				border-radius: 50%;
				width: 50px;
				height: 50px;
				display: inline-flex;
				justify-content: center;
				align-items: center;
				cursor: pointer;
				color: white;
				transition: all 0.3s;
				margin-left: 10px;
			}

			.play-btn:hover {
				background: #00aaff;
				transform: scale(1.1);
			}

			.play-btn.playing {
				background: #00aaff;
				animation: pulse 1s infinite;
			}

			/* 微软晓晓特色区域 */
			.xiaoxiao-feature {
				text-align: center;
				padding: 30px;
				margin: 40px 0;
			}

			.xiaoxiao-feature h2 {
				color: #fff;
				margin-bottom: 20px;
				font-size: 2.2rem;
				text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
			}

			.xiaoxiao-feature p {
				color: rgba(255, 255, 255, 0.9);
				max-width: 800px;
				margin: 0 auto 30px;
				font-size: 1.2rem;
			}

			.voice-demo-buttons {
				display: flex;
				justify-content: center;
				gap: 20px;
				flex-wrap: wrap;
			}

			.voice-demo-btn {
				background: rgba(255, 255, 255, 0.1);
				border: 1px solid rgba(255, 255, 255, 0.3);
				border-radius: 50px;
				padding: 15px 30px;
				color: white;
				font-size: 1.1rem;
				cursor: pointer;
				transition: all 0.3s;
				display: flex;
				align-items: center;
				gap: 10px;
			}

			.voice-demo-btn:hover {
				background: rgba(255, 255, 255, 0.2);
				transform: translateY(-3px);
			}

			.voice-demo-btn.playing {
				background: rgba(75, 108, 183, 0.8);
				animation: pulse 1s infinite;
			}

			/* AI参数设置演示区域 */
			.ai-parameters-demo {
				margin: 40px 0;
			}

			.parameter-controls {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
				gap: 20px;
				margin-bottom: 30px;
			}

			.parameter-card {
				background: rgba(255, 255, 255, 0.1);
				backdrop-filter: blur(8px);
				-webkit-backdrop-filter: blur(8px);
				border-radius: 15px;
				padding: 20px;
				border: 1px solid rgba(255, 255, 255, 0.2);
			}

			.parameter-card h3 {
				color: #fff;
				margin-bottom: 15px;
				display: flex;
				align-items: center;
				gap: 10px;
			}

			.parameter-card h3 i {
				color: #0075b0;
			}

			.parameter-slider {
				margin-bottom: 15px;
			}

			.parameter-slider label {
				display: block;
				margin-bottom: 8px;
				color: #fff;
			}

			.parameter-slider input {
				width: 100%;
			}

			.parameter-value {
				text-align: center;
				font-size: 1.2rem;
				color: #fff;
				margin-top: 10px;
			}

			.generate-btn {
				background: linear-gradient(90deg, #00aaff, #0077b3);
				color: white;
				border: none;
				border-radius: 8px;
				padding: 12px 25px;
				font-size: 1.1rem;
				font-weight: 600;
				cursor: pointer;
				display: block;
				width: 100%;
				margin-top: 20px;
				transition: transform 0.2s, box-shadow 0.2s;
			}

			.generate-btn:hover {
				transform: translateY(-3px);
				box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
			}

			.response-display {
				background: rgba(255, 255, 255, 0.1);
				backdrop-filter: blur(8px);
				-webkit-backdrop-filter: blur(8px);
				border-radius: 15px;
				padding: 25px;
				margin-top: 30px;
				border: 1px solid rgba(255, 255, 255, 0.2);
				min-height: 200px;
			}

			.response-display h3 {
				color: #fff;
				margin-bottom: 15px;
			}

			.response-content {
				color: rgba(255, 255, 255, 0.9);
				line-height: 1.6;
				margin-bottom: 20px;
			}

			.parameter-impact {
				display: flex;
				justify-content: space-between;
				margin-top: 10px;
				font-size: 0.9rem;
				color: rgba(255, 255, 255, 0.7);
			}

			.impact-low,
			.impact-high {
				display: flex;
				flex-direction: column;
				align-items: center;
			}

			/* 新增：方言演示区域 */
			.dialect-section {
				margin: 40px 0;
				padding: 30px;
				background: rgba(255, 255, 255, 0.1);
				backdrop-filter: blur(10px);
				-webkit-backdrop-filter: blur(10px);
				border-radius: 15px;
				border: 1px solid rgba(255, 255, 255, 0.2);
			}

			.dialect-section h2 {
				text-align: center;
				margin-bottom: 30px;
				color: #fff;
			}

			.dialect-buttons {
				display: flex;
				justify-content: center;
				flex-wrap: wrap;
				gap: 15px;
				margin-top: 20px;
			}

			.dialect-btn {
				background: rgba(75, 108, 183, 0.6);
				border: 1px solid rgba(255, 255, 255, 0.3);
				border-radius: 50px;
				padding: 12px 25px;
				color: white;
				font-size: 1rem;
				cursor: pointer;
				transition: all 0.3s;
				display: flex;
				align-items: center;
				gap: 10px;
			}

			.dialect-btn:hover {
				background: rgba(75, 108, 183, 0.8);
				transform: translateY(-2px);
			}

			.dialect-btn.playing {
				background: rgba(75, 108, 183, 1);
				animation: pulse 1s infinite;
			}

			.language-support {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
				gap: 20px;
				margin-top: 30px;
			}

			.language-item {
				background: rgba(255, 255, 255, 0.1);
				backdrop-filter: blur(8px);
				-webkit-backdrop-filter: blur(8px);
				border-radius: 10px;
				padding: 15px;
				text-align: center;
				border: 1px solid rgba(255, 255, 255, 0.2);
			}

			.language-item h4 {
				color: #fff;
				margin-bottom: 10px;
				display: flex;
				align-items: center;
				justify-content: center;
				gap: 8px;
			}

			.language-item p {
				color: rgba(255, 255, 255, 0.8);
				font-size: 0.9rem;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<header class="glass-effect">
				<h1>AI聊天</h1>
				<p>智能语音交互体验，重新定义人机对话方式</p>
				<p>集成<span class="highlight">微软多语言自然音</span>，支持普通话、英语、日语、粤语、四川话、河南话等多种语言</p>
				<a href="https://rockoipeng.github.io/Web/Project/ChartAI/Nalang.html" class="cta-button">直接体验</a>
			</header>

			<div class="compatibility-note glass-effect">
				<i class="fas fa-exclamation-triangle"></i>
				<span>请注意：微软多语言自然音功能在</span>
				<span class="edge-logo">Edge</span>
				<span>Microsoft Edge浏览器上效果最佳，其他平台可能功能受限</span>
			</div>

			<!-- 微软晓晓特色介绍 -->
			<div class="xiaoxiao-feature glass-effect">
				<h2>微软晓晓多语言自然音</h2>
				<p>采用微软最新的神经网络语音合成技术，提供流畅自然的多语言语音体验，支持情感表达和自然语调变化。</p>

				<div class="voice-demo-buttons">
					<div class="voice-demo-btn" data-text="您好，我是微软晓晓，很高兴为您服务" data-lang="zh-CN">
						<i class="fas fa-volume-up"></i>
						中文演示
					</div>
					<div class="voice-demo-btn" data-text="Hello, I'm Microsoft Xiaoxiao, pleased to serve you"
						data-lang="en-US">
						<i class="fas fa-volume-up"></i>
						英文演示
					</div>
					<div class="voice-demo-btn" data-text="こんにちは、マイクロソフトの暁暁と申します、よろしくお願いいたします" data-lang="ja-JP">
						<i class="fas fa-volume-up"></i>
						日文演示
					</div>
				</div>

				<div class="language-support">
					<div class="language-item">
						<h4><i class="fas fa-language"></i> 普通话</h4>
						<p>标准汉语，中国大陆官方语言</p>
					</div>
					<div class="language-item">
						<h4><i class="fas fa-language"></i> 英语</h4>
						<p>美式和英式英语发音</p>
					</div>
					<div class="language-item">
						<h4><i class="fas fa-language"></i> 日语</h4>
						<p>标准日语发音</p>
					</div>
				</div>
			</div>

			<!-- 方言演示区域 -->
			<div class="dialect-section glass-effect">
				<h2>方言语音支持</h2>
				<p style="text-align: center; margin-bottom: 20px; color: rgba(255,255,255,0.9);">
					微软语音支持多种中国方言，点击下方按钮体验不同方言的语音合成效果
				</p>

				<div class="dialect-buttons">
					<div class="dialect-btn" data-text="你好呀，我係微软晓敏，识讲广东话㗎" data-lang="yue-CN">
						<i class="fas fa-volume-up"></i>
						粤语演示
					</div>
					<div class="dialect-btn" data-text="你好噻，我是微软云希，我会说四川话" data-lang="wuu-CN">
						<i class="fas fa-volume-up"></i>
						四川话演示
					</div>
					<div class="dialect-btn" data-text="恁好，我是微软云登，俺会说河南话" data-lang="zh-CN-henan">
						<i class="fas fa-volume-up"></i>
						河南话演示
					</div>
				</div>

				<div class="language-support">
					<div class="language-item">
						<h4><i class="fas fa-language"></i> 粤语</h4>
						<p>广东话，华南地区主要方言</p>
					</div>
					<div class="language-item">
						<h4><i class="fas fa-language"></i> 四川话</h4>
						<p>西南官话代表方言</p>
					</div>
					<div class="language-item">
						<h4><i class="fas fa-language"></i> 河南话</h4>
						<p>中原官话代表方言</p>
					</div>
				</div>
			</div>

			<!-- 图片展示区域 -->
			<div class="xiaoxiao-feature glass-effect">
				<h2>界面图片展示</h2>
				<p>点击图片可全屏查看</p>
				<div class="image-gallery">

					<div class="image-placeholder">
						<img src="./img/chart.jpg" alt="交互界面">
						<div class="image-caption">交互界面</div>
					</div>
					<div class="image-placeholder">
						<img src="./img/param.jpg" alt="参数设置">
						<div class="image-caption">参数设置</div>
					</div>
					<div class="image-placeholder">
						<img src="./img/voice.jpg" alt="语音效果">
						<div class="image-caption">语音效果</div>
					</div>
					<div class="image-placeholder">
						<img src="./img/model.jpg" alt="多种模型">
						<div class="image-caption">多种模型</div>
					</div>
				</div>
			</div>


			<div id="imageModal" class="modal">
				<span class="close">&times;</span>
				<img class="modal-content" id="modalImage">
				<div id="caption" class="caption-text"></div>
			</div>

			<!-- AI模型参数设置演示 -->
			<section class="demo-section glass-effect">
				<h2>AI模型参数设置演示</h2>
				<p style="text-align: center; margin-bottom: 30px; color: rgba(255,255,255,0.9);">
					调整以下参数，体验不同设置对AI生成内容的影响
				</p>

				<div class="parameter-controls">
					<div class="parameter-card">
						<h3><i class="fas fa-thermometer-half"></i> 温度 (Temperature)</h3>
						<div class="parameter-slider">
							<label for="temperature">控制生成文本的随机性</label>
							<input type="range" id="temperature" min="0" max="2" step="0.1" value="0.7">
							<div class="parameter-value" id="temperature-value">0.7</div>
						</div>
						<div class="parameter-impact">
							<div class="impact-low">
								<i class="fas fa-brain"></i>
								<span>更保守</span>
							</div>
							<div class="impact-high">
								<i class="fas fa-lightbulb"></i>
								<span>更有创意</span>
							</div>
						</div>
					</div>

					<div class="parameter-card">
						<h3><i class="fas fa-filter"></i> Top P</h3>
						<div class="parameter-slider">
							<label for="top-p">控制生成文本的多样性</label>
							<input type="range" id="top-p" min="0" max="1" step="0.05" value="0.35">
							<div class="parameter-value" id="top-p-value">0.35</div>
						</div>
						<div class="parameter-impact">
							<div class="impact-low">
								<i class="fas fa-bullseye"></i>
								<span>更集中</span>
							</div>
							<div class="impact-high">
								<i class="fas fa-project-diagram"></i>
								<span>更多样</span>
							</div>
						</div>
					</div>

					<div class="parameter-card">
						<h3><i class="fas fa-ruler"></i> 最大令牌数</h3>
						<div class="parameter-slider">
							<label for="max-tokens">控制生成文本的长度</label>
							<input type="range" id="max-tokens" min="100" max="2000" step="50" value="800">
							<div class="parameter-value" id="max-tokens-value">800</div>
						</div>
						<div class="parameter-impact">
							<div class="impact-low">
								<i class="fas fa-align-left"></i>
								<span>较短响应</span>
							</div>
							<div class="impact-high">
								<i class="fas fa-align-justify"></i>
								<span>较长响应</span>
							</div>
						</div>
					</div>

					<div class="parameter-card">
						<h3><i class="fas fa-ban"></i> 重复惩罚</h3>
						<div class="parameter-slider">
							<label for="repetition-penalty">防止文本重复</label>
							<input type="range" id="repetition-penalty" min="1" max="2" step="0.05" value="1.05">
							<div class="parameter-value" id="repetition-penalty-value">1.05</div>
						</div>
						<div class="parameter-impact">
							<div class="impact-low">
								<i class="fas fa-redo"></i>
								<span>允许重复</span>
							</div>
							<div class="impact-high">
								<i class="fas fa-sync-alt"></i>
								<span>避免重复</span>
							</div>
						</div>
					</div>
				</div>

				<button class="generate-btn" id="generate-btn">
					<i class="fas fa-bolt"></i> 生成示例响应
				</button>

				<div class="response-display">
					<h3>AI响应示例：</h3>
					<div class="response-content" id="response-content">
						点击上方按钮生成基于当前参数的AI响应示例
					</div>
					<button class="play-btn" id="play-response-btn" style="display: none;">
						<i class="fas fa-volume-up"></i>
					</button>
				</div>
			</section>

			<section class="features">
				<div class="feature-card">
					<i class="fas fa-comments"></i>
					<h3>智能对话</h3>
					<p>基于先进AI模型的自然语言处理，提供流畅、智能的对话体验，支持多轮上下文理解。</p>
				</div>

				<div class="feature-card">
					<i class="fas fa-microphone"></i>
					<h3>语音输入</h3>
					<p>支持语音输入识别，通过麦克风或音量+键激活，提供更自然的人机交互方式。</p>
				</div>

				<div class="feature-card">
					<i class="fas fa-volume-up"></i>
					<h3>晓晓语音输出</h3>
					<p>采用微软晓晓多语言自然音引擎，支持多种语言和方言的高质量语音合成输出。</p>
				</div>

				<div class="feature-card">
					<i class="fas fa-keyboard"></i>
					<h3>实体按键控制</h3>
					<p>支持音量键快捷操作，音量+键激活语音输入，音量-键发送消息，提升移动设备体验。</p>
				</div>

				<div class="feature-card">
					<i class="fas fa-sliders-h"></i>
					<h3>参数定制</h3>
					<p>可调整温度、Top P、最大令牌数等参数，精确控制AI的回复风格和内容生成。</p>
				</div>

				<div class="feature-card">
					<i class="fas fa-download"></i>
					<h3>数据管理</h3>
					<p>支持完整对话历史和设置的导入导出，方便用户备份或迁移聊天数据。</p>
				</div>

				<div class="feature-card">
					<i class="fas fa-users"></i>
					<h3>可定制人设</h3>
					<p>通过修改系统提示词可以修改AI的对话情境，可实现任何情境人设，可充分发挥想象。</p>
				</div>

				<div class="feature-card">
					<i class="fas fa-coins"></i>
					<h3>计费标准</h3>
					<p>暂未推出计费标准，目前使用全部免费！</p>
				</div>
			</section>

			<section class="demo-section glass-effect">
				<h2>语音交互体验</h2>

				<div class="interaction-demo">
					<div class="demo-item">
						<h3><i class="fas fa-microphone-alt"></i> 语音输入</h3>
						<p>通过麦克风按钮或音量+键激活语音输入功能，支持多种语言识别。</p>

						<div class="voice-demo">
							<div class="voice-btn" id="demo-voice-btn">
								<i class="fas fa-microphone"></i>
							</div>
							<p>点击麦克风或按音量+键开始语音输入</p>
							<div class="voice-wave">
								<div class="wave-bar"></div>
								<div class="wave-bar"></div>
								<div class="wave-bar"></div>
								<div class="wave-bar"></div>
								<div class="wave-bar"></div>
								<div class="wave-bar"></div>
							</div>
						</div>
					</div>

					<div class="demo-item">
						<h3><i class="fas fa-volume-up"></i> 语音输出</h3>
						<p>采用微软多语言自然音引擎，支持多种语言和方言的语音合成。</p>

						<div class="ui-preview">
							<div class="message assistant">
								您好！我是AI助手，支持多种语言的语音交互。
								<button class="play-btn" data-text="您好！我是AI助手，支持多种语言的语音交互。" data-lang="zh-CN">
									<i class="fas fa-volume-up"></i>
								</button>
							</div>

							<div style="text-align: center; margin: 20px 0;">
								<button class="play-btn" style="width: 60px; height: 60px;" data-text="欢迎使用AI聊天应用"
									data-lang="zh-CN">
									<i class="fas fa-volume-up"></i>
								</button>
								<p style="margin-top: 10px; color: rgba(255,255,255,0.7);">点击播放欢迎语音</p>
							</div>
						</div>
					</div>
				</div>

				<div class="interaction-flow">
					<div class="flow-step">
						<i class="fas fa-microphone"></i>
						<h4>语音输入</h4>
						<p>通过麦克风或音量+键进行语音输入</p>
					</div>

					<div class="arrow">→</div>

					<div class="flow-step">
						<i class="fas fa-brain"></i>
						<h4>AI处理</h4>
						<p>AI分析并生成响应内容</p>
					</div>

					<div class="arrow">→</div>

					<div class="flow-step">
						<i class="fas fa-volume-up"></i>
						<h4>语音输出</h4>
						<p>通过微软语言引擎转换为语音</p>
					</div>
				</div>

				<div class="compatibility-note">
					<i class="fas fa-info-circle"></i>
					<span>语音识别和TTS功能在</span>
					<span class="edge-logo">Edge</span>
					<span>Microsoft Edge浏览器上效果最佳</span>
				</div>
			</section>

			<section class="demo-section glass-effect">
				<h2>实体按键交互</h2>

				<div class="interaction-demo">
					<div class="demo-item">
						<h3><i class="fas fa-plus-circle"></i> 音量+键功能</h3>
						<p>按下设备上的音量增加键，可以快速激活语音输入功能。</p>

						<div class="key-visual">
							<div class="volume-key up">
								<!-- <div class="key-label">语音输入</div> -->
							</div>
						</div>

						<div class="ui-preview">
							<p style="text-align: center; color: #fff; font-weight: 500;">按下音量+键</p>
							<div class="voice-wave">
								<div class="wave-bar"></div>
								<div class="wave-bar"></div>
								<div class="wave-bar"></div>
								<div class="wave-bar"></div>
								<div class="wave-bar"></div>
								<div class="wave-bar"></div>
							</div>
							<p style="text-align: center; margin-top: 10px; color: rgba(255,255,255,0.7);">语音输入已激活</p>
						</div>
					</div>

					<div class="demo-item">
						<h3><i class="fas fa-minus-circle"></i> 音量-键功能</h3>
						<p>按下设备上的音量减少键，可以快速发送当前输入的消息。</p>

						<div class="key-visual">
							<div class="volume-key down">
								<!-- <div class="key-label">发送消息</div> -->
							</div>
						</div>

						<div class="ui-preview">
							<div class="message-input">
								<input type="text" placeholder="输入消息..." value="你好，请介绍一下你自己">
								<button style="width: 50px;height: 50px;"><i class="fas fa-paper-plane"></i></button>
							</div>
							<p style="text-align: center; color: #fff; font-weight: 500; margin-top: 10px;">按下音量-键发送</p>
						</div>
					</div>
				</div>
			</section>

			<section class="demo-section glass-effect">
				<h2>微软语音引擎特性</h2>

				<div class="interaction-demo">
					<div class="demo-item">
						<h3><i class="fas fa-globe"></i> 多语言支持</h3>
						<p>基于微软多语言引擎，支持多种语言和方言的高质量语音合成。</p>

						<div class="ui-preview">
							<div class="tts-languages">
								<span class="language-tag" data-lang="zh-CN">普通话</span>
								<span class="language-tag" data-lang="en-US">English(US)</span>
								<span class="language-tag" data-lang="en-GB">English(GB)</span>
								<span class="language-tag" data-lang="ja-JP">日本語</span>
								<span class="language-tag" data-lang="yue-CN">粤语</span>
								<span class="language-tag" data-lang="wuu-CN">四川话</span>
								<span class="language-tag" data-lang="zh-CN-henan">河南话</span>
							</div>

							<div style="margin-top: 20px;">
								<p style="font-weight: 500; color: #fff;">语音特性:</p>
								<ul style="margin-top: 10px; padding-left: 20px; color: rgba(255,255,255,0.9);">
									<li>神经网络语音合成技术</li>
									<li>自然流畅的语音表达</li>
									<li>情感和语调变化支持</li>
									<li>多语言无缝切换</li>
								</ul>
							</div>
						</div>
					</div>

					<div class="demo-item">
						<h3><i class="fas fa-cog"></i> 语音设置</h3>
						<p>可自定义语音参数，包括语速、音调和语音类型。</p>

						<div class="ui-preview">
							<div class="param-item">
								<label for="voice-rate">语速: <span>1.0</span></label>
								<input type="range" id="voice-rate" min="0.5" max="2" step="0.1" value="1">
							</div>

							<div class="param-item">
								<label for="voice-pitch">音调: <span>1.0</span></label>
								<input type="range" id="voice-pitch" min="0.5" max="2" step="0.1" value="1">
							</div>

							<div class="param-item">
								<label for="voice-select">语音类型</label>
								<select id="voice-select"
									style="width: 100%; padding: 8px; border-radius: 5px; border: 1px solid rgba(221, 221, 221, 0.3); background: rgba(255, 255, 255, 0.2); color: #fff;">
									<option>普通话</option>
									<option>英语</option>
									<option>日语</option>
									<option>粤语</option>
									<option>四川话</option>
									<option>河南话</option>
								</select>
							</div>
						</div>
					</div>
				</div>

				<div class="compatibility-note">
					<i class="fas fa-exclamation-circle"></i>
					<span>完整的多语言语音功能需要</span>
					<span class="edge-logo">Edge</span>
					<span>Microsoft Edge浏览器支持</span>
				</div>
			</section>

			<footer>
				<h2 style="margin-bottom: 20px;">体验智能语音交互的未来</h2>
				<p>AI聊天应用将先进的人工智能技术与微软多语言引擎完美结合</p>
				<a href="https://rockoipeng.github.io/Web/Project/ChartAI/Nalang.html" class="cta-button">立即开始体验</a>

				<div style="margin-top: 20px; font-size: 0.9rem;">
					<p>为了获得最佳体验，请使用 <span class="edge-logo">Edge</span> Microsoft Edge 浏览器</p>
					<p>其他浏览器可能无法支持所有功能</p>
				</div>
			</footer>
		</div>

		<script>
			// 语音合成功能
			const synth = window.speechSynthesis;
			let currentUtterance = null;
			let currentResponseText = "";

			// 语音映射表 - 语言代码到语音名称的映射
			const voiceMap = {
				'zh-CN': 'Microsoft 晓晓 多语言 Online (Natural) - Chinese (Mandarin, Simplified)',
				'en-US': 'Microsoft 晓晓 多语言 Online (Natural) - Chinese (Mandarin, Simplified)',
				'ja-JP': 'Microsoft 晓晓 多语言 Online (Natural) - Chinese (Mandarin, Simplified)',
				'yue-CN': 'Microsoft 晓敏 Online (Natural) - Chinese (Cantonese, Simplified)',
				'wuu-CN': 'Microsoft 云希 Online (Natural) - Chinese (Mandarin, Simplified)',
				'zh-CN-henan': 'Microsoft 云登 Online (Natural) - Chinese (Zhongyuan Mandarin Henan, Simplified)'
			};

			// 加载可用的语音
			function loadVoices() {
				return new Promise((resolve) => {
					const voices = synth.getVoices();
					if (voices.length !== 0) {
						resolve(voices);
					} else {
						synth.onvoiceschanged = () => {
							const voices = synth.getVoices();
							resolve(voices);
						};
					}
				});
			}

			// 根据语言代码获取合适的语音
			function findVoiceByLang(lang) {
				const voices = synth.getVoices();
				const preferredVoiceName = voiceMap[lang];

				// 首先尝试找到完全匹配的语音
				if (preferredVoiceName) {
					const voice = voices.find(v => v.name === preferredVoiceName);
					if (voice) return voice;
				}

				// 其次尝试找到语言匹配的语音
				const langMatch = voices.find(voice => voice.lang === lang);
				if (langMatch) return langMatch;

				// 最后返回第一个可用的中文语音
				const chineseVoice = voices.find(voice => voice.lang.includes('zh'));
				if (chineseVoice) return chineseVoice;

				// 如果都没有，返回第一个可用语音
				return voices[0];
			}

			// 模拟语音输入按钮
			const voiceBtn = document.getElementById('demo-voice-btn');
			let isListening = false;

			voiceBtn.addEventListener('click', () => {
				isListening = !isListening;

				if (isListening) {
					voiceBtn.classList.add('listening');
					voiceBtn.innerHTML = '<i class="fas fa-circle"></i>';
					document.querySelector('.voice-wave').style.display = 'flex';
				} else {
					voiceBtn.classList.remove('listening');
					voiceBtn.innerHTML = '<i class="fas fa-microphone"></i>';
					document.querySelector('.voice-wave').style.display = 'none';
				}
			});

			// 更新参数值显示
			const voiceRate = document.getElementById('voice-rate');
			const voicePitch = document.getElementById('voice-pitch');

			voiceRate.addEventListener('input', () => {
				voiceRate.previousElementSibling.querySelector('span').textContent = voiceRate.value;
			});

			voicePitch.addEventListener('input', () => {
				voicePitch.previousElementSibling.querySelector('span').textContent = voicePitch.value;
			});

			// 模拟消息发送
			const messageInput = document.querySelector('.message-input input');
			const sendButton = document.querySelector('.message-input button');

			sendButton.addEventListener('click', () => {
				if (messageInput.value.trim() !== '') {
					alert(`消息已发送: "${messageInput.value}"`);
					messageInput.value = '';
				}
			});

			// 支持按Enter发送消息
			messageInput.addEventListener('keypress', (e) => {
				if (e.key === 'Enter') {
					sendButton.click();
				}
			});

			// 播放语音功能
			async function playText(text, lang = 'zh-CN') {
				// 停止当前播放
				if (synth.speaking) {
					synth.cancel();
				}

				// 确保语音已加载
				await loadVoices();

				// 创建新的语音实例
				const utterance = new SpeechSynthesisUtterance(text);
				utterance.lang = lang;
				utterance.rate = parseFloat(voiceRate.value);
				utterance.pitch = parseFloat(voicePitch.value);

				// 找到合适的语音
				const voice = findVoiceByLang(lang);
				if (voice) {
					utterance.voice = voice;
				}

				// 播放语音
				synth.speak(utterance);

				// 保存当前语音实例
				currentUtterance = utterance;

				return utterance;
			}

			// 为所有播放按钮添加点击事件
			document.querySelectorAll('.play-btn').forEach(btn => {
				btn.addEventListener('click', function() {
					const text = this.getAttribute('data-text');
					const lang = this.getAttribute('data-lang') || 'zh-CN';
					if (text) {
						// 添加播放中样式
						this.classList.add('playing');

						// 播放语音
						const utterance = playText(text, lang);

						// 语音播放结束后移除播放中样式
						utterance.then(() => {
							utterance.onend = () => {
								this.classList.remove('playing');
							};
						});
					}
				});
			});

			// 为语言标签添加点击事件
			document.querySelectorAll('.language-tag').forEach(tag => {
				tag.addEventListener('click', function() {
					const lang = this.getAttribute('data-lang');
					const text = this.textContent;

					if (lang) {
						// 添加播放中样式
						this.classList.add('playing');

						// 播放语音
						const utterance = playText(text, lang);

						// 语音播放结束后移除播放中样式
						utterance.then(() => {
							utterance.onend = () => {
								this.classList.remove('playing');
							};
						});
					}
				});
			});

			// 为晓晓演示按钮添加点击事件
			document.querySelectorAll('.voice-demo-btn').forEach(btn => {
				btn.addEventListener('click', function() {
					const text = this.getAttribute('data-text');
					const lang = this.getAttribute('data-lang') || 'zh-CN';
					if (text) {
						// 添加播放中样式
						this.classList.add('playing');

						// 播放语音
						const utterance = playText(text, lang);

						// 语音播放结束后移除播放中样式
						utterance.then(() => {
							utterance.onend = () => {
								this.classList.remove('playing');
							};
						});
					}
				});
			});

			// 为方言演示按钮添加点击事件
			document.querySelectorAll('.dialect-btn').forEach(btn => {
				btn.addEventListener('click', function() {
					const text = this.getAttribute('data-text');
					const lang = this.getAttribute('data-lang') || 'zh-CN';
					if (text) {
						// 添加播放中样式
						this.classList.add('playing');

						// 播放语音
						const utterance = playText(text, lang);

						// 语音播放结束后移除播放中样式
						utterance.then(() => {
							utterance.onend = () => {
								this.classList.remove('playing');
							};
						});
					}
				});
			});

			// AI参数设置演示功能
			const temperatureSlider = document.getElementById('temperature');
			const topPSlider = document.getElementById('top-p');
			const maxTokensSlider = document.getElementById('max-tokens');
			const repetitionPenaltySlider = document.getElementById('repetition-penalty');
			const generateBtn = document.getElementById('generate-btn');
			const responseContent = document.getElementById('response-content');
			const playResponseBtn = document.getElementById('play-response-btn');

			const temperatureValue = document.getElementById('temperature-value');
			const topPValue = document.getElementById('top-p-value');
			const maxTokensValue = document.getElementById('max-tokens-value');
			const repetitionPenaltyValue = document.getElementById('repetition-penalty-value');

			// 更新参数值显示
			function updateParameterValues() {
				temperatureValue.textContent = temperatureSlider.value;
				topPValue.textContent = topPSlider.value;
				maxTokensValue.textContent = maxTokensSlider.value;
				repetitionPenaltyValue.textContent = repetitionPenaltySlider.value;
			}

			temperatureSlider.addEventListener('input', updateParameterValues);
			topPSlider.addEventListener('input', updateParameterValues);
			maxTokensSlider.addEventListener('input', updateParameterValues);
			repetitionPenaltySlider.addEventListener('input', updateParameterValues);

			// 初始更新参数值
			updateParameterValues();

			// 生成响应示例
			generateBtn.addEventListener('click', () => {
				const temperature = parseFloat(temperatureSlider.value);
				const topP = parseFloat(topPSlider.value);
				const maxTokens = parseInt(maxTokensSlider.value);
				const repetitionPenalty = parseFloat(repetitionPenaltySlider.value);

				// 根据参数生成不同的响应
				let responses = [
					"人工智能正在改变我们的世界。从医疗诊断到自动驾驶汽车，AI技术正在各个领域带来革命性的变化。这些进步不仅提高了效率，还创造了新的可能性。",
					"想象一下，未来AI可以帮助我们解决气候变化、疾病治疗等全球性问题。通过分析海量数据，AI能发现人类难以察觉的模式，为复杂问题提供创新解决方案。",
					"自然语言处理是AI的重要分支。它使计算机能够理解、解释和生成人类语言。随着深度学习的发展，NLP技术取得了显著进步。",
					"机器学习算法从数据中学习模式，而不需要显式编程。监督学习、无监督学习和强化学习是三种主要方法，每种适用于不同场景。",
					"神经网络受到人脑结构的启发。它们由相互连接的节点组成，这些节点共同处理信息。深度神经网络有多层结构，能够学习复杂的特征表示。",
					"伦理问题是AI发展中的重要考量。我们需要确保AI系统公平、透明且负责任。算法偏见、隐私保护和就业影响都是需要解决的挑战。"
				];

				// 根据温度选择不同的响应风格
				let response;
				if (temperature < 0.5) {
					// 保守、事实性回答
					response = responses[0];
				} else if (temperature < 1.2) {
					// 平衡的回答
					response = responses[1];
				} else {
					// 创意性回答
					response = responses[2];
				}

				// 根据Top P调整多样性
				if (topP < 0.3) {
					response = responses[3];
				} else if (topP < 0.6) {
					response = responses[4];
				} else {
					response = responses[5];
				}

				// 根据最大令牌数截断响应
				const maxLength = Math.min(maxTokens / 2, 300); // 简单模拟token限制
				if (response.length > maxLength) {
					response = response.substring(0, maxLength) + '...';
				}

				// 根据重复惩罚减少重复
				if (repetitionPenalty > 1.2) {
					response = response.replace(/(\b\w+\b)(?=.*\1)/gi, '');
				}

				// 添加参数影响描述
				let styleDesc = "";
				if (temperature < 0.5) {
					styleDesc = "（保守的回答）";
				} else if (temperature < 1.2) {
					styleDesc = "（平衡的回答）";
				} else {
					styleDesc = "（创造性的回答）";
				}

				currentResponseText = response;
				responseContent.innerHTML = `<strong>基于当前参数生成${styleDesc}:</strong><br>${response}`;

				// 显示播放按钮
				playResponseBtn.style.display = 'inline-flex';
			});

			// 播放响应语音
			playResponseBtn.addEventListener('click', function() {
				if (currentResponseText) {
					// 添加播放中样式
					this.classList.add('playing');

					// 播放语音
					const utterance = playText(currentResponseText);

					// 语音播放结束后移除播放中样式
					utterance.then(() => {
						utterance.onend = () => {
							this.classList.remove('playing');
						};
					});
				}
			});

			// 初始化语音
			loadVoices().then(() => {
				console.log("语音加载完成");
			});
		</script>

		<script>
			// 图片模态框功能
			const modal = document.getElementById("imageModal");
			const modalImg = document.getElementById("modalImage");
			const captionText = document.getElementById("caption");
			const closeBtn = document.getElementsByClassName("close")[0];

			// 为所有图片添加点击事件
			document.querySelectorAll('.image-placeholder img').forEach(img => {
				img.addEventListener('click', function() {
					modal.style.display = "block";
					modalImg.src = this.src;
					captionText.innerHTML = this.alt;
				});
			});

			// 关闭模态框
			closeBtn.onclick = function() {
				modal.style.display = "none";
			}

			// 点击模态框外部也关闭
			modal.onclick = function(event) {
				if (event.target == modal) {
					modal.style.display = "none";
				}
			}

			// 按ESC键关闭模态框
			document.addEventListener('keydown', function(event) {
				if (event.key === "Escape" && modal.style.display === "block") {
					modal.style.display = "none";
				}
			});
		</script>

	</body>

</html>

